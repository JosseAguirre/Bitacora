<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"> 
<ui:composition template="/templates/menuT.xhtml">
	<ui:define name="panel"></ui:define>
	<ui:define name="content">
			<p:messages id="mensaje" autoUpdate="false"/>	
			<p:fieldset id="fst2" legend="Historial de #{sesionBean.mostrarUsuarioLogeado()}">
			<p:dataTable id="tbl" value="#{sacTransaccionesBean.listaTransacciones}" var="item" paginator="true" rows="10"
			 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
			 paginatorPosition="bottom" editable="true" tableStyle="width: auto; white-space: nowrap"
			 widgetVar="carsTable" filteredValue="#{sacTransaccionesBean.transaccionFiltrada}" 
			 emptyMessage="No existen registros con ese criterio">
			 
				<f:facet name="header">
					<p:outputPanel>
						<h:outputText value="Buscar Transaccion   "/>
						<p:inputText id="globalFilter" onkeyup="PF('carsTable').filter()" style="width:150px"/>
					</p:outputPanel>
				</f:facet>
			
				<p:column headerText="Código" filterBy="#{item.idtransaccion}"
					filterStyle="display:none">
					<h:outputText value="#{item.idtransaccion}" />
				</p:column>
				
				<p:column headerText="Línea de Negocio" filterBy="#{item.idlineanegociodc}"
					filterStyle="display:none">
					<h:outputText value="#{item.idlineanegociodc.nombre}" />
				</p:column>
				
				<p:column headerText="Estado" filterBy="#{item.idestadodc}"
					filterStyle="display:none">
					<h:outputText value="#{item.idestadodc.nombre}" />
				</p:column>
				
				<p:column headerText="Tipo de Servicio" filterBy="#{item.idtipo_servicio}"
					filterStyle="display:none">
					<h:outputText value="#{item.idtipo_servicio.nombre}" />
				</p:column>
				
				<p:column headerText="Servicio" filterBy="#{item.idservicio}"
					filterStyle="display:none">
					<h:outputText value="#{item.idservicio.nombre}" />
				</p:column>
				
				<p:column headerText="Agencia" filterBy="#{item.idagencia}"
					filterStyle="display:none">				
					<h:outputText value="#{item.idagencia.nombre}" />
				</p:column>
				
				<p:column headerText="Cliente" filterBy="#{item.idcliente}"
					filterStyle="display:none">
					<h:outputText value="#{item.idcliente.razonsocial}" />
				</p:column>
				
				<p:column headerText="Empleado" filterBy="#{item.idempleado}"
					filterStyle="display:none">
					<h:outputText value="#{item.idempleado.nombres}" />
				</p:column>
				
					
			</p:dataTable>	
		</p:fieldset>	
	</ui:define>
	<ui:define name="content3">
		<p:messages id="mensaje" autoUpdate="false"/>	
			<p:fieldset id="fst2" legend="Servicios">
			
			<p:dataTable id="tbl" value="#{sacTransaccionesBean.listaTransaccionServicios}" var="item" paginator="true" rows="10"
			 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
			 paginatorPosition="bottom" editable="true" tableStyle="width: auto; white-space: nowrap"
			 widgetVar="carsTable" filteredValue="#{sacTransaccionesBean.transaccionFiltrada}" 
			 emptyMessage="No existen registros con ese criterio">
			 
				
				<f:facet name="header">
					<p:button value="Ingresar servicios" outcome="/webpages/serviciocliente/ingresodeservicios.jsf" icon="ui-icon-document"/>
				</f:facet>
				<p:column headerText="Código" filterBy="#{item.idtransaccion}"
					filterStyle="display:none">
					<h:outputText value="#{item.idtransaccion}" />
				</p:column>
				
				<p:column headerText="Línea de Negocio" filterBy="#{item.idlineanegociodc}"
					filterStyle="display:none">
					<h:outputText value="#{item.idlineanegociodc.nombre}" />
				</p:column>
				
				<p:column headerText="Estado" filterBy="#{item.idestadodc}"
					filterStyle="display:none">
					<h:outputText value="#{item.idestadodc.nombre}" />
				</p:column>
				
				<p:column headerText="Tipo de Servicio">
					<h:outputText value="#{item.idtipo_servicio.nombre}" />
				</p:column>
				
				<p:column headerText="Servicio" filterBy="#{item.idservicio}"
					filterStyle="display:none">
					<h:outputText value="#{item.idservicio.nombre}" />
				</p:column>
				
				<p:column headerText="Agencia">
					<h:outputText value="#{item.idagencia.nombre}" />
				</p:column>
				
				<p:column headerText="Cliente">
					<h:outputText value="#{item.idcliente.razonsocial}" />
				</p:column>
				
				<p:column headerText="Empleado">
					<h:outputText value="#{item.idempleado.nombres}" />
				</p:column>
				
					
			</p:dataTable>	
		</p:fieldset>	
	</ui:define>
	<ui:define name="content5">
		<p:messages id="mensaje" autoUpdate="false"/>	
			<p:fieldset id="fst2" legend="Quejas y Reclamos">
			<p:dataTable id="tbl" value="#{sacTransaccionesBean.listaQuejasReclamos}" var="item" paginator="true" rows="10"
			 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
			 paginatorPosition="bottom" editable="true" tableStyle="width: auto; white-space: nowrap"
			 widgetVar="carsTable" filteredValue="#{sacTransaccionesBean.transaccionFiltrada}" 
			 emptyMessage="No existen registros con ese criterio">
			 
				<f:facet name="header">
					<p:commandButton value="Ingresar una Queja" icon="ui-icon-document">
    					<f:param name="productId" value="20" />
					</p:commandButton> 
					<p:commandButton value="Ingresar un Reclamo" icon="ui-icon-document">
    					<f:param name="productId" value="20" />
					</p:commandButton> 
				</f:facet>
				<p:column headerText="Código" filterBy="#{item.idtransaccion}"
					filterStyle="display:none">
					<h:outputText value="#{item.idtransaccion}" />
				</p:column>
				
				<p:column headerText="Línea de Negocio" filterBy="#{item.idlineanegociodc}"
					filterStyle="display:none">
					<h:outputText value="#{item.idlineanegociodc.nombre}" />
				</p:column>
				
				<p:column headerText="Estado" filterBy="#{item.idestadodc}"
					filterStyle="display:none">
					<h:outputText value="#{item.idestadodc.nombre}" />
				</p:column>
				
				<p:column headerText="Tipo de Servicio">
					<h:outputText value="#{item.idtipo_servicio.nombre}" />
				</p:column>
				
				<p:column headerText="Servicio" filterBy="#{item.idservicio}"
					filterStyle="display:none">
					<h:outputText value="#{item.idservicio.nombre}" />
				</p:column>
				
				<p:column headerText="Agencia">
					<h:outputText value="#{item.idagencia.nombre}" />
				</p:column>
				
				<p:column headerText="Cliente">
					<h:outputText value="#{item.idcliente.razonsocial}" />
				</p:column>
				
				<p:column headerText="Empleado">
					<h:outputText value="#{item.idempleado.nombres}" />
				</p:column>					
			</p:dataTable>	
		</p:fieldset>	
	</ui:define>
	
	
</ui:composition>
</html>
